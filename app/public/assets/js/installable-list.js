!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Installable=e():t.Installable=e()}(self,(function(){return(()=>{var t={291:t=>{self,t.exports=(()=>{"use strict";var t={d:(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{create:()=>n});const n=function(t){var e,n=t.name,a=t.attributes,r=t.content;if(e=n?document.createElement(n):document.createElement("div"),a)for(var o in a)Object.hasOwnProperty.call(a,o)&&e.setAttribute(o,a[o]);return r&&(e.innerHTML=r),e};return e})()}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var a={};return(()=>{"use strict";n.r(a),n.d(a,{List:()=>s});const t=function(t){var e=t.url,n=t.options,a=t.onsuccess,r=t.onfail;fetch(e,n).then((function(t){if(t.ok)return t.json();throw new Error("(Data Sender) ".concat(t.status,": Something went wrong"))})).then((function(t){return a(t)})).catch((function(t){return r(t)}))};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var o=n(291),i=function(){function n(t){var e=this,a=t.target,r=t.data,o=t.dataURL,i=t.addURL,s=t.removeURL,l=t.onAdd,u=t.onRemove;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=document.querySelector(a),"INPUT"!=this.target.nodeName&&"TEXTAREA"!=this.target.nodeName||(this.targetIsInput=!0),o?this.data=function(t){var e=t.url,n=t.onfetched,a=t.onfail;fetch(e,{method:"get"}).then((function(t){if(t.ok)return t.json();throw new Error("(Data Fetcher) ".concat(t.status,": Something went wrong"))})).then((function(t){return n(t)})).catch((function(t){return a(t)}))}({url:o,onfetched:function(t){e.data=t,e.RenderUI()},onfail:function(t){return console.error(t)}}):r?(this.data=r,this._RenderUI()):(this.data={installed:[],installable:[]},this._RenderUI()),i&&(this.addURL=i),s&&(this.removeURL=s),l&&"function"==typeof l&&(this.onAdd=l),u&&"function"==typeof u&&(this.onRemove=u)}var a,i;return a=n,i=[{key:"_AddItem",value:function(n){var a,r=n.currentTarget.parentNode.parentNode.parentNode.getAttribute("value"),o=this.data.installable,i=this.data.installed;if("object"===e(o[0])){var s=o.map((function(t){return t.value})).indexOf(r);a=o[s],i.push(a),o.splice(s,1),this.onAdd&&this.onAdd(a)}else"string"==typeof o[0]&&(o.splice(o.indexOf(r),1),i.push(r),this.onAdd&&this.onAdd(r));var l=this.installableList.querySelector('[value="'.concat(r,'"]')),u=l.querySelector("button"),c=u.querySelector("i");if(this.installedList.insertBefore(l,this.CustomInput),u.classList.remove("btn-primary"),c.classList.remove("fa-plus"),u.classList.add("btn-danger"),c.classList.add("fa-minus"),this.addURL){var d=new FormData;d.append("value",r),t({url:this.addURL,onsuccess:function(t){return console.log(t)},onfail:function(t){return console.error(t)},options:{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="_token"]').getAttribute("content")},body:d}})}}},{key:"_CreateCustomItem",value:function(){var t=this,e=this.DataIsObject?'\n        <form>\n            <label for="label">Nama</label>\n            <input type="text" name="label" class="form-control"/>\n            <label for="value">Nilai</label>\n            <input type="text" name="value" class="form-control"/>\n            <input type="submit" value="Tambah" class="btn btn-primary"/>\n        </form>\n        ':'\n        <form>\n            <input type="text" name="value" class="form-control"/>\n            <input type="submit" value="Tambah" class="btn btn-primary"/>\n        </form>\n        ',n=o.create({name:"li",attributes:{class:"list-group-item list-group-item-action"},content:e});n.querySelector("form").addEventListener("submit",(function(e){if(e.preventDefault(),t.DataIsObject){var a=n.querySelector('input[name="label"]').value,r=n.querySelector('input[name="value"]').value;t._InsertCustomItem({label:a,value:r})}else{var o=n.querySelector('input[name="value"]').value;t._InsertCustomItem({value:o})}n.parentNode.removeChild(n),n=null})),this.installedList.insertBefore(n,this.CustomInput)}},{key:"_InsertCustomItem",value:function(t){var e,n=this,a=t.label,r=t.value,i=o.create({name:"li",attributes:{class:"list-group-item list-group-item-action",value:r,isCustom:!0},content:'\n                <div class="row">\n                    <div class="col">'.concat(a||r,'</div>\n                    <div class="col-auto">\n                        <button class="btn btn-danger">\n                            <i class="fas fa-minus"></i>\n                        </button>\n                    </div>\n                </div>')}),s=this.data.installed;e=this.DataIsObject?{value:r,label:a||r}:r,s.push(e),i.querySelector("button").addEventListener("click",(function(t){return n._MoveItem(t)})),this.installedList.insertBefore(i,this.CustomInput),this.targetIsInput&&(this.target.value=JSON.stringify(this.data.installed))}},{key:"_MoveItem",value:function(t){for(var e=t.currentTarget;"UL"!=e.nodeName;)e=e.parentNode;e==this.installedList?this._RemoveItem(t):e==this.installableList&&this._AddItem(t),this.targetIsInput&&(this.target.value=JSON.stringify(this.data.installed))}},{key:"_PopulateList",value:function(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=!1,i="";if(a.forEach((function(a){if(!r){var s={label:"",value:""};if("object"===e(a)?(Object.hasOwnProperty.call(a),s.label=a.label,Object.hasOwnProperty.call(a,"value")?(n.DataIsObject=!0,s.value=a.value,""==s.label&&(s.label=a.value)):(r=!0,i="Incorrect data format")):s.label=s.value=a,!r){var l=t==n.installableList?{icon:"plus",class:"primary"}:{icon:"minus",class:"danger"},u=o.create({name:"li",attributes:{class:"list-group-item list-group-item-action",value:s.value},content:'\n                            <div class="row">\n                                <div class="col">'.concat(s.label,'</div>\n                                <div class="col-auto">\n                                    <button type="button" class="btn btn-').concat(l.class,'">\n                                        <i class="fas fa-').concat(l.icon,'"></i>\n                                    </button>\n                                </div>\n                            </div>')});u.querySelector("button").addEventListener("click",(function(t){return n._MoveItem(t)})),t.append(u)}}})),r)return console.error(i),void t.append(i);if(t==this.installedList){var s=this.CustomInput=o.create({name:"li",attributes:{class:"list-group-item list-group-item-action",value:"create-new"},content:'\n                <div class="row">\n                    <div class="col-auto">\n                        <i class="fas fa-plus"></i>\n                    </div>\n                    <div class="col">Buat Baru</div>\n                </div>\n                '});s.addEventListener("click",(function(t){return n._CreateCustomItem()})),t.append(s)}}},{key:"_RemoveItem",value:function(n){var a,r=n.currentTarget.parentNode.parentNode.parentNode.getAttribute("value"),o=n.currentTarget.parentNode.parentNode.parentNode.hasAttribute("isCustom"),i=this.data.installable,s=this.data.installed;if("object"===e(s[0])){var l=s.map((function(t){return t.value})).indexOf(r);a=s[l],o||i.push(a),s.splice(l,1),this.onRemove&&this.onRemove(a)}else"string"==typeof s[0]&&(s.splice(s.indexOf(r),1),o||i.push(r),this.onRemove&&this.onRemove(r));var u=this.installedList.querySelector('[value="'.concat(r,'"]')),c=u.querySelector("button"),d=c.querySelector("i");if(o?this.installedList.removeChild(u):(this.installableList.append(u),c.classList.remove("btn-danger"),d.classList.remove("fa-minus"),c.classList.add("btn-primary"),d.classList.add("fa-plus")),this.removeURL){var p=new FormData;p.append("value",r),t({url:this.removeURL,onsuccess:function(t){return console.log(t)},onfail:function(t){return console.error(t)},options:{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="_token"]').getAttribute("content")},body:p}})}}},{key:"_RenderUI",value:function(){var t=o.create({name:"div",attributes:{class:"container"}}),e=o.create({name:"div",attributes:{class:"row"}}),n=o.create({name:"div",attributes:{class:"col-12 col-md-6 mb-5",style:"height: 300px; overflow: auto"}}),a=o.create({name:"div",attributes:{class:"col-12 col-md-6 mb-5",style:"height: 300px; overflow: auto"}}),r=this.installedList=o.create({name:"ul",attributes:{class:"list-group"}}),i=this.installableList=o.create({name:"ul",attributes:{class:"list-group"}});this._PopulateList(r,this.data.installed),this._PopulateList(i,this.data.installable),n.append(r),a.append(i),e.append(n),e.append(a),t.append(e),this.targetIsInput?(this.target.type="hidden",this.target.parentNode.insertBefore(t,this.target)):this.target.append(t)}},{key:"getData",get:function(){return{installed:this.data.installed,installable:this.data.installable}}}],i&&r(a.prototype,i),n}();const s=i})(),a})()}));