!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Installable=e():t.Installable=e()}(self,(function(){return(()=>{var t={203:t=>{self,t.exports=(()=>{"use strict";var t={d:(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{CreateElement:()=>n});var n=function(t){var e,n=t.tagname,a=t.classnames,r=t.content,o=t.attributes;if(e=n?document.createElement(n):document.createElement("div"),a&&(e.className=a),r&&(e.innerHTML=r),o&&0!==Object.keys(o).length&&Object.getPrototypeOf(o)===Object.prototype)for(var s in o)if(Object.hasOwnProperty.call(o,s)){var i=o[s];e.setAttribute(s,i)}return e};return e})()}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var a={};return(()=>{"use strict";n.r(a),n.d(a,{List:()=>i});var t=n(203),e=function(t){var e=t.url,n=t.options,a=t.onsuccess,r=t.onfail;fetch(e,n).then((function(t){if(t.ok)return t.json();throw new Error("(Data Sender) ".concat(t.status,": Something went wrong"))})).then((function(t){return a(t)})).catch((function(t){return r(t)}))};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var s=function(){function n(t){var e=this,a=t.target,r=t.data,o=t.dataURL,s=t.addURL,i=t.removeURL,l=t.onAdd,u=t.onRemove;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=document.querySelector(a),"INPUT"!=this.target.nodeName&&"TEXTAREA"!=this.target.nodeName||(this.targetIsInput=!0),o?this.data=function(t){var e=t.onfetched,n=t.onfail;fetch(t.url,{method:"get"}).then((function(t){if(t.ok)return t.json();throw new Error("(Data Fetcher) ".concat(t.status,": Something went wrong"))})).then((function(t){return e(t)})).catch((function(t){return n(t)}))}({url:o,onfetched:function(t){e.data=t,e.RenderUI()},onfail:function(t){return console.error(t)}}):r?(this.data=r,this._RenderUI()):(this.data={installed:[],installable:[]},this._RenderUI()),s&&(this.addURL=s),i&&(this.removeURL=i),l&&"function"==typeof l&&(this.onAdd=l),u&&"function"==typeof u&&(this.onRemove=u)}var a,s;return a=n,s=[{key:"_AddItem",value:function(t){var n,a=t.currentTarget.parentNode.parentNode.parentNode.getAttribute("value"),o=this.data.installable,s=this.data.installed;if("object"===r(o[0])){var i=o.map((function(t){return t.value})).indexOf(a);n=o[i],s.push(n),o.splice(i,1),this.onAdd&&this.onAdd(n)}else"string"==typeof o[0]&&(o.splice(o.indexOf(a),1),s.push(a),this.onAdd&&this.onAdd(a));var l=this.installableList.querySelector('[value="'.concat(a,'"]')),u=l.querySelector("button"),c=u.querySelector("i");if(this.installedList.insertBefore(l,this.CustomInput),u.classList.remove("btn-primary"),c.classList.remove("fa-plus"),u.classList.add("btn-danger"),c.classList.add("fa-minus"),this.addURL){var d=new FormData;d.append("value",a),e({url:this.addURL,onsuccess:function(t){return console.log(t)},onfail:function(t){return console.error(t)},options:{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="_token"]').getAttribute("content")},body:d}})}}},{key:"_CreateCustomItem",value:function(){var e=this,n=this.DataIsObject?'\n        <form>\n            <label for="label">Nama</label>\n            <input type="text" name="label" class="form-control"/>\n            <label for="value">Nilai</label>\n            <input type="text" name="value" class="form-control"/>\n            <input type="submit" value="Tambah" class="btn btn-primary"/>\n        </form>\n        ':'\n        <form>\n            <input type="text" name="value" class="form-control"/>\n            <input type="submit" value="Tambah" class="btn btn-primary"/>\n        </form>\n        ',a=(0,t.CreateElement)({tagname:"li",classnames:"list-group-item list-group-item-action",content:n});a.querySelector("form").addEventListener("submit",(function(t){if(t.preventDefault(),e.DataIsObject){var n=a.querySelector('input[name="label"]').value,r=a.querySelector('input[name="value"]').value;e._InsertCustomItem({label:n,value:r})}else{var o=a.querySelector('input[name="value"]').value;e._InsertCustomItem({value:o})}a.parentNode.removeChild(a),a=null})),this.installedList.insertBefore(a,this.CustomInput)}},{key:"_InsertCustomItem",value:function(e){var n,a=this,r=e.label,o=e.value,s=(0,t.CreateElement)({tagname:"li",classnames:"list-group-item list-group-item-action",attributes:{value:o,isCustom:!0},content:'\n                <div class="row">\n                    <div class="col">'.concat(r||o,'</div>\n                    <div class="col-auto">\n                        <button class="btn btn-danger">\n                            <i class="fas fa-minus"></i>\n                        </button>\n                    </div>\n                </div>')}),i=this.data.installed;n=this.DataIsObject?{value:o,label:r||o}:o,i.push(n),s.querySelector("button").addEventListener("click",(function(t){return a._MoveItem(t)})),this.installedList.insertBefore(s,this.CustomInput),this.targetIsInput&&(this.target.value=JSON.stringify(this.data.installed))}},{key:"_MoveItem",value:function(t){for(var e=t.currentTarget;"UL"!=e.nodeName;)e=e.parentNode;e==this.installedList?this._RemoveItem(t):e==this.installableList&&this._AddItem(t),this.targetIsInput&&(this.target.value=JSON.stringify(this.data.installed))}},{key:"_PopulateList",value:function(e){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=!1,s="";if(a.forEach((function(a){if(!o){var i={label:"",value:""};if("object"===r(a)?(Object.hasOwnProperty.call(a),i.label=a.label,Object.hasOwnProperty.call(a,"value")?(n.DataIsObject=!0,i.value=a.value,""==i.label&&(i.label=a.value)):(o=!0,s="Incorrect data format")):i.label=i.value=a,!o){var l=e==n.installableList?{icon:"plus",class:"primary"}:{icon:"minus",class:"danger"},u=(0,t.CreateElement)({tagname:"li",classnames:"list-group-item list-group-item-action",attributes:{value:i.value},content:'\n                            <div class="row">\n                                <div class="col">'.concat(i.label,'</div>\n                                <div class="col-auto">\n                                    <button type="button" class="btn btn-').concat(l.class,'">\n                                        <i class="fas fa-').concat(l.icon,'"></i>\n                                    </button>\n                                </div>\n                            </div>')});u.querySelector("button").addEventListener("click",(function(t){return n._MoveItem(t)})),e.append(u)}}})),o)return console.error(s),void e.append(s);if(e==this.installedList){var i=this.CustomInput=(0,t.CreateElement)({name:"li",classnames:"list-group-item list-group-item-action",attributes:{value:"create-new"},content:'\n                <div class="row">\n                    <div class="col-auto">\n                        <i class="fas fa-plus"></i>\n                    </div>\n                    <div class="col">Buat Baru</div>\n                </div>\n                '});i.addEventListener("click",(function(t){return n._CreateCustomItem()})),e.append(i)}}},{key:"_RemoveItem",value:function(t){var n,a=t.currentTarget.parentNode.parentNode.parentNode.getAttribute("value"),o=t.currentTarget.parentNode.parentNode.parentNode.hasAttribute("isCustom"),s=this.data.installable,i=this.data.installed;if("object"===r(i[0])){var l=i.map((function(t){return t.value})).indexOf(a);n=i[l],o||s.push(n),i.splice(l,1),this.onRemove&&this.onRemove(n)}else"string"==typeof i[0]&&(i.splice(i.indexOf(a),1),o||s.push(a),this.onRemove&&this.onRemove(a));var u=this.installedList.querySelector('[value="'.concat(a,'"]')),c=u.querySelector("button"),d=c.querySelector("i");if(o?this.installedList.removeChild(u):(this.installableList.append(u),c.classList.remove("btn-danger"),d.classList.remove("fa-minus"),c.classList.add("btn-primary"),d.classList.add("fa-plus")),this.removeURL){var m=new FormData;m.append("value",a),e({url:this.removeURL,onsuccess:function(t){return console.log(t)},onfail:function(t){return console.error(t)},options:{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="_token"]').getAttribute("content")},body:m}})}}},{key:"_RenderUI",value:function(){var e=(0,t.CreateElement)({classnames:"container"}),n=(0,t.CreateElement)({classnames:"row "}),a=(0,t.CreateElement)({classnames:"col-12 col-md-6 mb-5",attributes:{style:"height: 300px; overflow: auto"}}),r=(0,t.CreateElement)({classnames:"col-12 col-md-6 mb-5",attributes:{style:"height: 300px; overflow: auto"}}),o=this.installedList=(0,t.CreateElement)({tagname:"ul",classnames:"list-group"}),s=this.installableList=(0,t.CreateElement)({tagname:"ul",classnames:"list-group"});this._PopulateList(o,this.data.installed),this._PopulateList(s,this.data.installable),a.append(o),r.append(s),n.append(r),n.append(a),e.append(n),this.targetIsInput?(this.target.type="hidden",this.target.parentNode.insertBefore(e,this.target)):this.target.append(e)}},{key:"getData",get:function(){return{installed:this.data.installed,installable:this.data.installable}}}],s&&o(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),n}();const i=s})(),a})()}));